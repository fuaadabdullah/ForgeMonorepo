#!/bin/bash
# Streamlit Cloud Deployment Helper
# This script provides step-by-step guidance for deploying to Streamlit Cloud

set -e

echo "ðŸš€ Ramadan Bot - Streamlit Cloud Deployment Helper"
echo "=================================================="
echo ""
echo "Since Streamlit Cloud is a web-based service, you'll need to:"
echo ""
echo "STEP 1: Visit https://share.streamlit.io"
echo "        (Make sure you're logged in with GitHub)"
echo ""
echo "STEP 2: Click 'Create app' and fill in:"
echo "        â€¢ GitHub repo: fuaadabdullah/ForgeMonorepo"
echo "        â€¢ Branch: feat/gradem8-hf-space-2"
echo "        â€¢ Main file path: apps/ramadan-bot/streamlit_app.py"
echo ""
echo "STEP 3: Click 'Deploy' and wait 2-3 minutes"
echo ""
echo "STEP 4: Once deployed, add secrets:"
echo "        â€¢ Click â˜° menu â†’ Settings"
echo "        â€¢ Go to 'Secrets' tab"
echo "        â€¢ Paste the template below and fill in your values:"
echo ""
echo "---BEGIN SECRETS TEMPLATE---"
cat apps/ramadan-bot/.streamlit/secrets.toml.example
echo "---END SECRETS TEMPLATE---"
echo ""
echo "âœ… Required environment variables:"
echo "   â€¢ SENDGRID_API_KEY - Get from SendGrid dashboard"
echo "   â€¢ SILICONFLOW_API_KEY - Get from SiliconFlow dashboard"
echo "   â€¢ LAT, LON - Your location (use latlong.net)"
echo "   â€¢ TZ - Your timezone (e.g., America/New_York)"
echo ""
echo "ðŸ’¡ Pro tips:"
echo "   â€¢ After adding secrets, Streamlit will auto-redeploy"
echo "   â€¢ Check app logs if deployment fails"
echo "   â€¢ Image generation takes 30-60s on free tier"
echo ""
echo "ðŸ§ª Test the deployment:"
echo "   1. Open your app URL"
echo "   2. Go to Preview tab â†’ Select Juz â†’ Generate"
echo "   3. Check your email for the Fajr reminder"
echo ""
